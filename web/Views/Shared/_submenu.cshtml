@model web.Areas.Admin.Models.VMProductGroupModel
@{
    int productGroupId = 0;
}


        @*<li class="dropdown-submenu"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Altyapı Elemanları</a>
          	
            <ul class="dropdown-menu">

              <li class="dropdown-submenu"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Beton Borular</a>
              	<ul class="dropdown-menu">
                  <li><a href="muflu_beton_boru_grubu.html">Muflu Beton Boru Grubu</a></li>
                  <li><a href="muflu_betonarme_boru_grubu.html">Muflu Betornarme Boru Grubu</a></li>
                  <li><a href="lamba_zivana_betonarme_boru_grubu.html">Lamba Zıvana Betonarme Boru Grubu</a></li>
                  <li><a href="surme_betornarme_boru_grubu.html">Sürme Betonarme Boru Grubu</a></li>
                </ul>	
              </li>

              <li class="dropdown-submenu"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Baca Konik Kapak Taban</a>
              	<ul class="dropdown-menu">
                  <li><a href="prefabrik_baca_tabanlari.html">Prefabrik Baca Tabanları</a></li>
                  <li><a href="prefabrik_baca_govdeleri_konikler_donatisiz.html">Prefabrik Baca Gövdeleri - Konikler (Donatısız)</a></li>
                  <li><a href="prefabrik_baca_govdeleri_konikler_donatili.html">Prefabrik Baca Gövdeleri - Konikler (Donatılı)</a></li>
                  <li><a href="prefabrik_baca_yardimci_elemanlari_donatili.html">Prefabrik Baca Yardımcı Elemanları (Donatılı)</a></li>
                  <li><a href="prefabrik_baca_yardımcı_elemanlari_donatisiz.html">Prefabrik Baca Yardımcı Elemanları (Donatısız)</a>              </li>
              	</ul>
              </li>
            </ul>
          </li>*@


@if(Model.SelectedProductGroup!=null)
{
    productGroupId = Model.SelectedProductGroup.ProductGroupId;
    foreach (var item in Model.ProductGroup.Where(d => d.TopProductId == productGroupId))
    {
        <text><li class="dropdown-submenu"><a href="#" class="dropdown-toggle" data-toggle="dropdown">@item.GroupName</a></text>
            if (Model.ProductGroup.Where(d => d.TopProductId == item.ProductGroupId).Any())
            {
                <ul class="dropdown-menu">
                    @foreach (var itemsub in Model.ProductGroup.Where(d => d.TopProductId == item.ProductGroupId))
                    {
                       
                         <li class="dropdown-submenu"><a href="#" class="dropdown-toggle" data-toggle="dropdown">@itemsub.GroupName</a>
                             <ul class="dropdown-menu">
                       
                        @{
                        Model.SelectedProductGroup = itemsub;
                            Html.RenderPartial("_submenu", Model);
                        }
                            </ul>
                         </li>
                    }
                </ul>
            }
        <text><li /></text>
    }
}
else
{
    foreach (var item in Model.ProductGroup.Where(d=>d.TopProductId == 1))
    {
        <text><li class="dropdown-submenu"><a href="#" class="dropdown-toggle" data-toggle="dropdown">@item.GroupName</a></text>
            if (Model.ProductGroup.Where(d => d.TopProductId == item.ProductGroupId).Any())
            { 
                <ul class="dropdown-menu">
                    @{
                        Model.SelectedProductGroup = item;
                        Html.RenderPartial("_submenu", Model);
                    }
                </ul>
            }
        <text><li /></text>
    }
}
